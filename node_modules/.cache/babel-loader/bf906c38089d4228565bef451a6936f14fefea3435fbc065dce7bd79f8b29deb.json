{"ast":null,"code":"import { __awaiter, __generator } from \"tslib\";\nimport { isAWSDate, isAWSTime, isAWSDateTime, isAWSTimestamp, isAWSEmail, isAWSJSON, isAWSURL, isAWSPhone, isAWSIPAddress, extractPrimaryKeyFieldNames } from './util';\nexport function isSchemaModel(obj) {\n  return obj && obj.pluralName !== undefined;\n}\nexport function isSchemaModelWithAttributes(m) {\n  return isSchemaModel(m) && m.attributes !== undefined;\n}\nexport function isAssociatedWith(obj) {\n  return obj && obj.associatedWith;\n}\nexport function isTargetNameAssociation(obj) {\n  return (obj === null || obj === void 0 ? void 0 : obj.targetName) || (obj === null || obj === void 0 ? void 0 : obj.targetNames);\n}\nexport function isFieldAssociation(obj, fieldName) {\n  var _a, _b;\n  return (_b = (_a = obj === null || obj === void 0 ? void 0 : obj.fields[fieldName]) === null || _a === void 0 ? void 0 : _a.association) === null || _b === void 0 ? void 0 : _b.connectionType;\n}\nexport function isModelAttributeAuth(attr) {\n  return attr.type === 'auth' && attr.properties && attr.properties.rules && attr.properties.rules.length > 0;\n}\nexport function isModelAttributeKey(attr) {\n  return attr.type === 'key' && attr.properties && attr.properties.fields && attr.properties.fields.length > 0;\n}\nexport function isModelAttributePrimaryKey(attr) {\n  return isModelAttributeKey(attr) && attr.properties.name === undefined;\n}\nexport function isModelAttributeCompositeKey(attr) {\n  return isModelAttributeKey(attr) && attr.properties.name !== undefined && attr.properties.fields.length > 2;\n}\nexport var ModelAttributeAuthAllow;\n(function (ModelAttributeAuthAllow) {\n  ModelAttributeAuthAllow[\"CUSTOM\"] = \"custom\";\n  ModelAttributeAuthAllow[\"OWNER\"] = \"owner\";\n  ModelAttributeAuthAllow[\"GROUPS\"] = \"groups\";\n  ModelAttributeAuthAllow[\"PRIVATE\"] = \"private\";\n  ModelAttributeAuthAllow[\"PUBLIC\"] = \"public\";\n})(ModelAttributeAuthAllow || (ModelAttributeAuthAllow = {}));\nexport var ModelAttributeAuthProvider;\n(function (ModelAttributeAuthProvider) {\n  ModelAttributeAuthProvider[\"FUNCTION\"] = \"function\";\n  ModelAttributeAuthProvider[\"USER_POOLS\"] = \"userPools\";\n  ModelAttributeAuthProvider[\"OIDC\"] = \"oidc\";\n  ModelAttributeAuthProvider[\"IAM\"] = \"iam\";\n  ModelAttributeAuthProvider[\"API_KEY\"] = \"apiKey\";\n})(ModelAttributeAuthProvider || (ModelAttributeAuthProvider = {}));\nexport var GraphQLScalarType;\n(function (GraphQLScalarType) {\n  GraphQLScalarType[GraphQLScalarType[\"ID\"] = 0] = \"ID\";\n  GraphQLScalarType[GraphQLScalarType[\"String\"] = 1] = \"String\";\n  GraphQLScalarType[GraphQLScalarType[\"Int\"] = 2] = \"Int\";\n  GraphQLScalarType[GraphQLScalarType[\"Float\"] = 3] = \"Float\";\n  GraphQLScalarType[GraphQLScalarType[\"Boolean\"] = 4] = \"Boolean\";\n  GraphQLScalarType[GraphQLScalarType[\"AWSDate\"] = 5] = \"AWSDate\";\n  GraphQLScalarType[GraphQLScalarType[\"AWSTime\"] = 6] = \"AWSTime\";\n  GraphQLScalarType[GraphQLScalarType[\"AWSDateTime\"] = 7] = \"AWSDateTime\";\n  GraphQLScalarType[GraphQLScalarType[\"AWSTimestamp\"] = 8] = \"AWSTimestamp\";\n  GraphQLScalarType[GraphQLScalarType[\"AWSEmail\"] = 9] = \"AWSEmail\";\n  GraphQLScalarType[GraphQLScalarType[\"AWSJSON\"] = 10] = \"AWSJSON\";\n  GraphQLScalarType[GraphQLScalarType[\"AWSURL\"] = 11] = \"AWSURL\";\n  GraphQLScalarType[GraphQLScalarType[\"AWSPhone\"] = 12] = \"AWSPhone\";\n  GraphQLScalarType[GraphQLScalarType[\"AWSIPAddress\"] = 13] = \"AWSIPAddress\";\n})(GraphQLScalarType || (GraphQLScalarType = {}));\n(function (GraphQLScalarType) {\n  function getJSType(scalar) {\n    switch (scalar) {\n      case 'Boolean':\n        return 'boolean';\n      case 'ID':\n      case 'String':\n      case 'AWSDate':\n      case 'AWSTime':\n      case 'AWSDateTime':\n      case 'AWSEmail':\n      case 'AWSURL':\n      case 'AWSPhone':\n      case 'AWSIPAddress':\n        return 'string';\n      case 'Int':\n      case 'Float':\n      case 'AWSTimestamp':\n        return 'number';\n      case 'AWSJSON':\n        return 'object';\n      default:\n        throw new Error('Invalid scalar type');\n    }\n  }\n  GraphQLScalarType.getJSType = getJSType;\n  function getValidationFunction(scalar) {\n    switch (scalar) {\n      case 'AWSDate':\n        return isAWSDate;\n      case 'AWSTime':\n        return isAWSTime;\n      case 'AWSDateTime':\n        return isAWSDateTime;\n      case 'AWSTimestamp':\n        return isAWSTimestamp;\n      case 'AWSEmail':\n        return isAWSEmail;\n      case 'AWSJSON':\n        return isAWSJSON;\n      case 'AWSURL':\n        return isAWSURL;\n      case 'AWSPhone':\n        return isAWSPhone;\n      case 'AWSIPAddress':\n        return isAWSIPAddress;\n      default:\n        return undefined;\n    }\n  }\n  GraphQLScalarType.getValidationFunction = getValidationFunction;\n})(GraphQLScalarType || (GraphQLScalarType = {}));\nexport function isGraphQLScalarType(obj) {\n  return obj && GraphQLScalarType[obj] !== undefined;\n}\nexport function isModelFieldType(obj) {\n  var modelField = 'model';\n  if (obj && obj[modelField]) return true;\n  return false;\n}\nexport function isNonModelFieldType(obj) {\n  var typeField = 'nonModel';\n  if (obj && obj[typeField]) return true;\n  return false;\n}\nexport function isEnumFieldType(obj) {\n  var modelField = 'enum';\n  if (obj && obj[modelField]) return true;\n  return false;\n}\nexport function isIdentifierObject(obj, modelDefinition) {\n  var keys = extractPrimaryKeyFieldNames(modelDefinition);\n  return typeof obj === 'object' && obj && keys.every(function (k) {\n    return obj[k] !== undefined;\n  });\n}\n//#endregion\n//#region Subscription messages\nexport var OpType;\n(function (OpType) {\n  OpType[\"INSERT\"] = \"INSERT\";\n  OpType[\"UPDATE\"] = \"UPDATE\";\n  OpType[\"DELETE\"] = \"DELETE\";\n})(OpType || (OpType = {}));\nexport function isPredicateObj(obj) {\n  return obj && obj.field !== undefined;\n}\nexport function isPredicateGroup(obj) {\n  return obj && obj.type !== undefined;\n}\nexport var QueryOne;\n(function (QueryOne) {\n  QueryOne[QueryOne[\"FIRST\"] = 0] = \"FIRST\";\n  QueryOne[QueryOne[\"LAST\"] = 1] = \"LAST\";\n})(QueryOne || (QueryOne = {}));\nexport var SortDirection;\n(function (SortDirection) {\n  SortDirection[\"ASCENDING\"] = \"ASCENDING\";\n  SortDirection[\"DESCENDING\"] = \"DESCENDING\";\n})(SortDirection || (SortDirection = {}));\nexport var AuthModeStrategyType;\n(function (AuthModeStrategyType) {\n  AuthModeStrategyType[\"DEFAULT\"] = \"DEFAULT\";\n  AuthModeStrategyType[\"MULTI_AUTH\"] = \"MULTI_AUTH\";\n})(AuthModeStrategyType || (AuthModeStrategyType = {}));\nexport var ModelOperation;\n(function (ModelOperation) {\n  ModelOperation[\"CREATE\"] = \"CREATE\";\n  ModelOperation[\"READ\"] = \"READ\";\n  ModelOperation[\"UPDATE\"] = \"UPDATE\";\n  ModelOperation[\"DELETE\"] = \"DELETE\";\n})(ModelOperation || (ModelOperation = {}));\nexport function syncExpression(modelConstructor, conditionProducer) {\n  return __awaiter(this, void 0, void 0, function () {\n    return __generator(this, function (_a) {\n      return [2 /*return*/, {\n        modelConstructor: modelConstructor,\n        conditionProducer: conditionProducer\n      }];\n    });\n  });\n}\nexport var ProcessName;\n(function (ProcessName) {\n  ProcessName[\"sync\"] = \"sync\";\n  ProcessName[\"mutate\"] = \"mutate\";\n  ProcessName[\"subscribe\"] = \"subscribe\";\n})(ProcessName || (ProcessName = {}));\nexport var DISCARD = Symbol('DISCARD');\nexport var LimitTimerRaceResolvedValues;\n(function (LimitTimerRaceResolvedValues) {\n  LimitTimerRaceResolvedValues[\"LIMIT\"] = \"LIMIT\";\n  LimitTimerRaceResolvedValues[\"TIMER\"] = \"TIMER\";\n})(LimitTimerRaceResolvedValues || (LimitTimerRaceResolvedValues = {}));\n/**\n * A pointer used by DataStore internally to lookup predicate details\n * that should not be exposed on public customer interfaces.\n */\nvar PredicateInternalsKey = /** @class */function () {\n  function PredicateInternalsKey() {\n    this.__isPredicateInternalsKeySentinel = true;\n  }\n  return PredicateInternalsKey;\n}();\nexport { PredicateInternalsKey };\n// #endregion","map":{"version":3,"mappings":"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","names":["isAWSDate","isAWSTime","isAWSDateTime","isAWSTimestamp","isAWSEmail","isAWSJSON","isAWSURL","isAWSPhone","isAWSIPAddress","extractPrimaryKeyFieldNames","isSchemaModel","obj","pluralName","undefined","isSchemaModelWithAttributes","m","attributes","isAssociatedWith","associatedWith","isTargetNameAssociation","targetName","targetNames","isFieldAssociation","fieldName","fields","association","connectionType","isModelAttributeAuth","attr","type","properties","rules","length","isModelAttributeKey","isModelAttributePrimaryKey","name","isModelAttributeCompositeKey","ModelAttributeAuthAllow","ModelAttributeAuthProvider","GraphQLScalarType","getJSType","scalar","Error","getValidationFunction","isGraphQLScalarType","isModelFieldType","modelField","isNonModelFieldType","typeField","isEnumFieldType","isIdentifierObject","modelDefinition","keys","every","k","OpType","isPredicateObj","field","isPredicateGroup","QueryOne","SortDirection","AuthModeStrategyType","ModelOperation","syncExpression","modelConstructor","conditionProducer","ProcessName","DISCARD","Symbol","LimitTimerRaceResolvedValues"],"sourceRoot":"","sources":["../src/types.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module","externalDependencies":[]}