{"ast":null,"code":"import { Auth } from \"aws-amplify\";\nexport const auth = {\n  namespace: true,\n  state: {\n    user: null\n  },\n  mutations: {\n    setUser(state, payload) {\n      state.user = payload;\n    }\n  },\n  actions: {\n    async logout({\n      commit\n    }) {\n      commit(\"setUser\", null);\n      return await Auth.signOut();\n    },\n    async login({\n      commit,\n      dispatch\n    }, {\n      username,\n      password\n    }) {\n      try {\n        await Auth.signIn({\n          username,\n          password\n        });\n        const userInfo = await Auth.currentUserInfo();\n        commit(\"setUser\", userInfo);\n        return Promise.resolve(\"Success\");\n      } catch (error) {\n        console.log(error);\n        return Promise.reject(error);\n      }\n    },\n    async confirmSignUp(_, {\n      username,\n      code\n    }) {\n      try {\n        await Auth.confirmSignUp(username, code);\n        return Promise.resolve();\n      } catch (error) {\n        console.log(error);\n        return Promise.reject(error);\n      }\n    },\n    async signUp(_, {\n      username,\n      password,\n      email\n    }) {\n      try {\n        await Auth.signUp({\n          username,\n          password,\n          attributes: {\n            email\n          }\n        });\n        return Promise.resolve();\n      } catch (error) {\n        console.log(error);\n        return Promise.reject(error);\n      }\n    },\n    async authAction({\n      commit\n    }) {\n      const userInfo = await Auth.currentUserInfo();\n      commit(\"setUser\", userInfo);\n    }\n  },\n  getters: {\n    user: state => state.user\n  }\n};","map":{"version":3,"names":["Auth","auth","namespace","state","user","mutations","setUser","payload","actions","logout","commit","signOut","login","dispatch","username","password","signIn","userInfo","currentUserInfo","Promise","resolve","error","console","log","reject","confirmSignUp","_","code","signUp","email","attributes","authAction","getters"],"sources":["/Users/evelynliu/VSCodeProjects/photobook/src/store/auth/auth.js"],"sourcesContent":["import {Auth} from \"aws-amplify\";\n\nexport const auth = {\n\n    namespace: true,\n    state: { user: null },\n    mutations: {\n        setUser(state, payload) {\n            state.user = payload;\n        }\n    },\n    actions: {\n        async logout({commit}) {\n            commit(\"setUser\", null);\n            return await Auth.signOut();\n        },\n        async login({ commit, dispatch }, {username, password}) {\n            try {\n                await Auth.signIn({\n                    username,\n                    password\n                });\n\n                const userInfo = await Auth.currentUserInfo();\n                commit(\"setUser\", userInfo);\n                return Promise.resolve(\"Success\");\n\n            } catch (error) {\n                console.log(error);\n                return Promise.reject(error);\n\n            }\n        },\n        async confirmSignUp(_, {username, code}) {\n            try {\n                await Auth.confirmSignUp(username, code);\n                return Promise.resolve();\n\n            } catch (error) {\n                console.log(error);\n                return Promise.reject(error);\n\n            }\n        },\n        async signUp(_, {username, password, email}) {\n            try {\n                await Auth.signUp({\n                    username,\n                    password,\n                    attributes: {\n                        email\n                    }\n                })\n                return Promise.resolve();\n\n            } catch (error) {\n                console.log(error);\n                return Promise.reject(error);\n\n            }\n        },\n        async authAction({commit}) {\n            const userInfo = await Auth.currentUserInfo();\n            commit(\"setUser\", userInfo);\n        }\n    },\n    getters: {\n        user: (state) => state.user\n\n    }\n\n}"],"mappings":"AAAA,SAAQA,IAAI,QAAO,aAAa;AAEhC,OAAO,MAAMC,IAAI,GAAG;EAEhBC,SAAS,EAAE,IAAI;EACfC,KAAK,EAAE;IAAEC,IAAI,EAAE;EAAK,CAAC;EACrBC,SAAS,EAAE;IACPC,OAAO,CAACH,KAAK,EAAEI,OAAO,EAAE;MACpBJ,KAAK,CAACC,IAAI,GAAGG,OAAO;IACxB;EACJ,CAAC;EACDC,OAAO,EAAE;IACL,MAAMC,MAAM,CAAC;MAACC;IAAM,CAAC,EAAE;MACnBA,MAAM,CAAC,SAAS,EAAE,IAAI,CAAC;MACvB,OAAO,MAAMV,IAAI,CAACW,OAAO,EAAE;IAC/B,CAAC;IACD,MAAMC,KAAK,CAAC;MAAEF,MAAM;MAAEG;IAAS,CAAC,EAAE;MAACC,QAAQ;MAAEC;IAAQ,CAAC,EAAE;MACpD,IAAI;QACA,MAAMf,IAAI,CAACgB,MAAM,CAAC;UACdF,QAAQ;UACRC;QACJ,CAAC,CAAC;QAEF,MAAME,QAAQ,GAAG,MAAMjB,IAAI,CAACkB,eAAe,EAAE;QAC7CR,MAAM,CAAC,SAAS,EAAEO,QAAQ,CAAC;QAC3B,OAAOE,OAAO,CAACC,OAAO,CAAC,SAAS,CAAC;MAErC,CAAC,CAAC,OAAOC,KAAK,EAAE;QACZC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;QAClB,OAAOF,OAAO,CAACK,MAAM,CAACH,KAAK,CAAC;MAEhC;IACJ,CAAC;IACD,MAAMI,aAAa,CAACC,CAAC,EAAE;MAACZ,QAAQ;MAAEa;IAAI,CAAC,EAAE;MACrC,IAAI;QACA,MAAM3B,IAAI,CAACyB,aAAa,CAACX,QAAQ,EAAEa,IAAI,CAAC;QACxC,OAAOR,OAAO,CAACC,OAAO,EAAE;MAE5B,CAAC,CAAC,OAAOC,KAAK,EAAE;QACZC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;QAClB,OAAOF,OAAO,CAACK,MAAM,CAACH,KAAK,CAAC;MAEhC;IACJ,CAAC;IACD,MAAMO,MAAM,CAACF,CAAC,EAAE;MAACZ,QAAQ;MAAEC,QAAQ;MAAEc;IAAK,CAAC,EAAE;MACzC,IAAI;QACA,MAAM7B,IAAI,CAAC4B,MAAM,CAAC;UACdd,QAAQ;UACRC,QAAQ;UACRe,UAAU,EAAE;YACRD;UACJ;QACJ,CAAC,CAAC;QACF,OAAOV,OAAO,CAACC,OAAO,EAAE;MAE5B,CAAC,CAAC,OAAOC,KAAK,EAAE;QACZC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;QAClB,OAAOF,OAAO,CAACK,MAAM,CAACH,KAAK,CAAC;MAEhC;IACJ,CAAC;IACD,MAAMU,UAAU,CAAC;MAACrB;IAAM,CAAC,EAAE;MACvB,MAAMO,QAAQ,GAAG,MAAMjB,IAAI,CAACkB,eAAe,EAAE;MAC7CR,MAAM,CAAC,SAAS,EAAEO,QAAQ,CAAC;IAC/B;EACJ,CAAC;EACDe,OAAO,EAAE;IACL5B,IAAI,EAAGD,KAAK,IAAKA,KAAK,CAACC;EAE3B;AAEJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}