{"ast":null,"code":"export default {\n  mounted() {\n    this.getPhotos();\n  },\n  data: () => ({\n    photos: [],\n    albumName: \"\"\n  }),\n  methods: {\n    async onFileChange(file) {\n      if (!file.target || !file.target.files[0]) {\n        return;\n      }\n      try {\n        await this.$store.dispatch(\"albumInfo/createPhoto\", {\n          file: file.target.files[0],\n          id: this.id\n        });\n        this.getPhotos();\n      } catch (error) {\n        console.log(\"error create photo\", error);\n      }\n    },\n    async getPhotos() {\n      const album = await this.$store.dispatch(\"albumInfo/getAlbum\", this.id);\n      this.photos = album.data.getAlbum.photos.items;\n      this.albumName = album.data.getAlbum.name;\n    }\n  },\n  computed: {\n    id() {\n      return this.$route.params.id;\n    }\n  }\n};","map":{"version":3,"mappings":"AA+CE,eAAe;EACbA,OAAO,GAAG;IACR,IAAI,CAACC,SAAS,EAAE;EAClB,CAAC;EACDC,IAAI,EAAE,OAAO;IACXC,MAAM,EAAE,EAAE;IACVC,SAAS,EAAE;EACb,CAAC,CAAC;EACFC,OAAO,EAAE;IACP,MAAMC,YAAY,CAACC,IAAI,EAAE;MACvB,IAAI,CAACA,IAAI,CAACC,MAAK,IAAK,CAACD,IAAI,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,EAAE;QACzC;MACF;MACA,IAAI;QACF,MAAM,IAAI,CAACC,MAAM,CAACC,QAAQ,CAAC,uBAAuB,EAAE;UAClDJ,IAAI,EAAEA,IAAI,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;UAC1BG,EAAE,EAAE,IAAI,CAACA;QACX,CAAC,CAAC;QACF,IAAI,CAACX,SAAS,EAAE;MAClB,EAAE,OAAOY,KAAK,EAAE;QACdC,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEF,KAAK,CAAC;MAC1C;IACF,CAAC;IACD,MAAMZ,SAAS,GAAG;MAChB,MAAMe,KAAI,GAAI,MAAM,IAAI,CAACN,MAAM,CAACC,QAAQ,CAAC,oBAAoB,EAAE,IAAI,CAACC,EAAE,CAAC;MACvE,IAAI,CAACT,MAAK,GAAIa,KAAK,CAACd,IAAI,CAACe,QAAQ,CAACd,MAAM,CAACe,KAAK;MAC9C,IAAI,CAACd,SAAQ,GAAIY,KAAK,CAACd,IAAI,CAACe,QAAQ,CAACE,IAAI;IAC3C;EACF,CAAC;EACDC,QAAQ,EAAE;IACRR,EAAE,GAAG;MACH,OAAO,IAAI,CAACS,MAAM,CAACC,MAAM,CAACV,EAAE;IAC9B;EACF;AACF,CAAC","names":["mounted","getPhotos","data","photos","albumName","methods","onFileChange","file","target","files","$store","dispatch","id","error","console","log","album","getAlbum","items","name","computed","$route","params"],"sourceRoot":"","sources":["/Users/evelynliu/VSCodeProjects/photobook/src/views/AlbumsDetailPage.vue"],"sourcesContent":["<template>\n    <div>\n      <h3 class=\"text-4xl font-semibold\">Album {{ albumName }}</h3>\n      <div class=\"flex w-full mt-10 items-center justify-center bg-grey-lighter\">\n        <form enctype=\"multipart/form-data\" novalidate>\n          <label\n            class=\"w-64 flex flex-col items-center px-4 py-6 bg-white text-blue rounded-lg shadow-lg tracking-wide uppercase border border-blue cursor-pointer hover:bg-blue hover:text-green-600\"\n          >\n            <svg\n              class=\"w-8 h-8\"\n              fill=\"currentColor\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n              viewBox=\"0 0 20 20\"\n            >\n              <path\n                d=\"M16.88 9.1A4 4 0 0 1 16 17H5a5 5 0 0 1-1-9.9V7a3 3 0 0 1 4.52-2.59A4.98 4.98 0 0 1 17 8c0 .38-.04.74-.12 1.1zM11 11h3l-4-4-4 4h3v3h2v-3z\"\n              />\n            </svg>\n            <span class=\"mt-2 text-base leading-normal\">Select a file</span>\n            <input @change=\"onFileChange\" accept=\"image/*\" type=\"file\" class=\"hidden\" />\n          </label>\n        </form>\n      </div>\n      <div class=\"text-2xl mt-4\">List Of Photos</div>\n      <div class=\"flex flex-wrap p-10 justify-center m-auto w-full\" v-if=\"photos\">\n        <div class=\"shadow-xl ml-4 mt-4 w-4/12\" v-for=\"(photo, idx) in photos\" :key=\"idx\">\n          <amplify-s3-image\n            level=\"protected\"\n            :img-key=\"photo.fullsize.key\"\n            class=\"w-4/12\"\n          ></amplify-s3-image>\n          <!-- <div v-if=\"photo.createdAt && photo.gps\">\n            <ul>\n              <li>Created At {{ photo.createdAt }}</li>\n              <li>\n                latitude\n                {{ photo.gps.latitude }}\n              </li>\n              <li>longitude At {{ photo.gps.longitude }}</li>\n            </ul>\n          </div> -->\n        </div>\n      </div>\n    </div>\n  </template>\n  \n  <script>\n  export default {\n    mounted() {\n      this.getPhotos();\n    },\n    data: () => ({\n      photos: [],\n      albumName: \"\",\n    }),\n    methods: {\n      async onFileChange(file) {\n        if (!file.target || !file.target.files[0]) {\n          return;\n        }\n        try {\n          await this.$store.dispatch(\"albumInfo/createPhoto\", {\n            file: file.target.files[0],\n            id: this.id,\n          });\n          this.getPhotos();\n        } catch (error) {\n          console.log(\"error create photo\", error);\n        }\n      },\n      async getPhotos() {\n        const album = await this.$store.dispatch(\"albumInfo/getAlbum\", this.id);\n        this.photos = album.data.getAlbum.photos.items;\n        this.albumName = album.data.getAlbum.name;\n      },\n    },\n    computed: {\n      id() {\n        return this.$route.params.id;\n      },\n    },\n  };\n  </script>\n  \n  <style  scoped>\n  amplify-s3-image {\n    --width: 75%;\n  }\n  </style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}